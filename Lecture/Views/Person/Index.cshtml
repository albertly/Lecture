@model IEnumerable<Lecture.Models.Person>

@{
    ViewBag.Title = "Index";
}
<div id="mainDiv">
    <h2>Index</h2>

    <p>
        @Html.ActionLink("Create New", "Create")
    </p>
    <div>
        
        @using (Html.BeginForm("Index", "Person", "GET"))
        {
            <input type="text" id="search" name="search" placeholder="Enter Name to search" />
            <button type="submit">Search</button>            
        }
        </div>
        <table class="table">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.FirstName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.LastName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Sex)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.BithDate)
                </th>
                <th></th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.FirstName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.LastName)
                    </td>
                    <td>
                        @if (item.Sex == 0)
                        {
                            <div>female</div>
                        }
                        else
                        {
                            <div>male</div>
                        }
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.BithDate)
                    </td>
                    <td>

                        @Ajax.ActionLink("Edit", "Edit", new { id = item.ID }, new AjaxOptions
               {
                   UpdateTargetId = "CustomerList", // <-- DOM element ID to update
                   InsertionMode = InsertionMode.Replace, // <-- Replace the content of DOM element
                   HttpMethod = "GET",
                   OnComplete = "$('#myModal').modal('show')"

               })
                        |
                        @Html.ActionLink("Details", "Details", new { id = item.ID }) |
                        @Html.ActionLink("Delete", "Delete", new { id = item.ID })
                    </td>
                </tr>
            }

        </table>

        <div id="myModal" class="modal fade" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div id="CustomerList" class="modal-body">
                        <p>Some text in the modal.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>

            </div>
        </div>

    </div>